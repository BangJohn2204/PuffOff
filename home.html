<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>PuffOff - Bebas Rokok Bersama</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <link rel="stylesheet" href="css/home.css">
</head>
<body>
    <div class="container">
        <!-- Header -->
        <div class="header">
            <div class="greeting">Selamat pagi, <strong>Ahmad!</strong> 👋</div>
            <h1 class="main-title">Hari yang Produktif</h1>
            <div class="streak-badge">
                <i class="fas fa-fire"></i>
                <span>Streak 7 Hari</span>
            </div>
        </div>

        <!-- Emergency Button -->
        <button class="emergency-btn" onclick="handleEmergency()">
            <i class="fas fa-exclamation-triangle"></i>
            Butuh Bantuan Sekarang!
        </button>

        <!-- Avatar Health Section -->
        <div class="section avatar-section">
            <div class="section-title">
                <i class="section-icon fas fa-user-md"></i>
                Avatar Kesehatan Digital
            </div>
            <div class="avatar-container">
                <div class="avatar-display">
                    <div class="avatar-body health-level-4" id="avatarBody">
                        <!-- Head with detailed features -->
                        <div class="avatar-head">
                            <div class="face-features">
                                <div class="eyes">
                                    <div class="eye left-eye">
                                        <div class="pupil"></div>
                                    </div>
                                    <div class="eye right-eye">
                                        <div class="pupil"></div>
                                    </div>
                                </div>
                                <div class="nose"></div>
                                <div class="mouth happy" id="avatarMouth"></div>
                            </div>
                            <div class="health-aura active" id="healthAura"></div>
                        </div>
                        
                        <!-- Neck -->
                        <div class="avatar-neck"></div>
                        
                        <!-- Torso with detailed organ system -->
                        <div class="avatar-torso">
                            <div class="ribcage"></div>
                            
                            <!-- Detailed organ system -->
                            <div class="organ-system">
                                <!-- Advanced Lungs with breathing animation -->
                                <div class="lungs healthy" id="avatarLungs">
                                    <div class="lung left-lung"></div>
                                    <div class="lung right-lung"></div>
                                </div>
                                
                                <!-- Advanced Heart with realistic chambers -->
                                <div class="heart healthy" id="avatarHeart">
                                    <div class="heart-chambers">
                                        <div class="chamber left-chamber"></div>
                                        <div class="chamber right-chamber"></div>
                                    </div>
                                </div>
                                
                                <!-- Blood vessel network -->
                                <div class="blood-vessels healthy">
                                    <div class="vessel vessel-1"></div>
                                    <div class="vessel vessel-2"></div>
                                    <div class="vessel vessel-3"></div>
                                    <div class="vessel vessel-4"></div>
                                </div>
                            </div>
                        </div>
                        
                        <!-- Arms with natural movement -->
                        <div class="avatar-arms">
                            <div class="arm left-arm">
                                <div class="shoulder"></div>
                                <div class="forearm"></div>
                            </div>
                            <div class="arm right-arm">
                                <div class="shoulder"></div>
                                <div class="forearm"></div>
                            </div>
                        </div>
                        
                        <!-- Legs -->
                        <div class="avatar-legs">
                            <div class="leg left-leg"></div>
                            <div class="leg right-leg"></div>
                        </div>
                        
                        <!-- Feet -->
                        <div class="avatar-feet">
                            <div class="foot left-foot"></div>
                            <div class="foot right-foot"></div>
                        </div>
                        
                        <!-- Health indicators -->
                        <div class="health-indicators">
                            <div class="indicator oxygen-level" id="oxygenIndicator">
                                <i class="fas fa-lungs"></i>
                                <span>97%</span>
                            </div>
                            <div class="indicator heart-rate" id="heartRateIndicator">
                                <i class="fas fa-heartbeat"></i>
                                <span>72</span>
                            </div>
                        </div>
                    </div>
                </div>
                
                <div class="health-info">
                    <div class="health-level">
                        <span class="health-label">Status Kesehatan:</span>
                        <span class="health-status" id="healthStatus">Membaik</span>
                        <span class="health-level-badge" id="healthLevelBadge">Level 4</span>
                    </div>
                    <div class="health-progress">
                        <div class="health-bar">
                            <div class="health-fill" id="healthFill" style="width: 75%;"></div>
                            <div class="health-sparkle"></div>
                        </div>
                        <span class="health-percentage" id="healthPercentage">75%</span>
                    </div>
                    <div class="health-details">
                        <div class="health-item">
                            <i class="fas fa-lungs"></i>
                            <span>Paru-paru: <strong id="lungStatus">Membersihkan diri</strong></span>
                            <div class="status-indicator lung-indicator healthy" id="lungIndicator"></div>
                        </div>
                        <div class="health-item">
                            <i class="fas fa-heartbeat"></i>
                            <span>Jantung: <strong id="heartStatus">Lebih stabil</strong></span>
                            <div class="status-indicator heart-indicator healthy" id="heartIndicator"></div>
                        </div>
                        <div class="health-item">
                            <i class="fas fa-tint"></i>
                            <span>Oksigen: <strong id="oxygenStatus">Normal</strong></span>
                            <div class="status-indicator oxygen-indicator healthy" id="oxygenStatusIndicator"></div>
                        </div>
                    </div>
                </div>
                
                <div class="avatar-controls">
                    <button class="control-btn decrease-btn" id="decreaseBtn">
                        <i class="fas fa-minus-circle"></i>
                        <span>Level Turun</span>
                        <div class="btn-effect"></div>
                    </button>
                    <button class="control-btn primary increase-btn" id="increaseBtn">
                        <i class="fas fa-plus-circle"></i>
                        <span>Level Naik</span>
                        <div class="btn-effect"></div>
                    </button>
                </div>
            </div>
        </div>

        <!-- Notification Demo Section -->
        <div class="section notification-section">
            <div class="section-title">
                <i class="section-icon fas fa-bell"></i>
                Demo Notifikasi Push
            </div>
            <div class="notification-demo">
                <p class="demo-description">
                    Klik tombol di bawah untuk melihat contoh notifikasi yang akan muncul dari atas layar seperti notifikasi aplikasi pada umumnya.
                </p>
                <button class="show-notification-btn" id="notificationBtn">
                    <i class="fas fa-bell"></i>
                    <span>Tampilkan Notifikasi</span>
                    <div class="btn-ripple"></div>
                </button>
                <div class="notification-types">
                    <small>Jenis notifikasi: Motivasi, Progress, Achievement, Tips, Reminder</small>
                </div>
            </div>
        </div>

        <!-- Next Milestone - FIXED STYLING -->
        <div class="section milestone-card">
            <div class="milestone-header">
                <div class="milestone-icon">🎯</div>
                <div class="milestone-content">
                    <div class="milestone-title">Target Berikutnya: 2 Minggu</div>
                    <div class="milestone-desc">Kamu sudah 70% menuju target 2 minggu bebas rokok!</div>
                </div>
            </div>
            <div class="milestone-progress">
                <div class="milestone-progress-bar">
                    <div class="milestone-progress-fill" style="width: 70%;"></div>
                    <span class="milestone-percentage">70%</span>
                </div>
            </div>
            <div class="milestone-motivational">
                <div class="milestone-message">🔥 Kamu hampir sampai! Tetap semangat!</div>
                <div class="milestone-encouragement">
                    <i class="fas fa-trophy"></i>
                    Sisa 4 hari lagi menuju pencapaian besar!
                </div>
            </div>
        </div>

        <!-- Quick Stats -->
        <div class="stats-grid">
            <div class="stat-card">
                <div class="stat-icon">🔥</div>
                <div class="stat-value">7</div>
                <div class="stat-label">Hari Bebas</div>
            </div>
            <div class="stat-card">
                <div class="stat-icon">💰</div>
                <div class="stat-value">Rp 210K</div>
                <div class="stat-label">Dihemat</div>
            </div>
            <div class="stat-card">
                <div class="stat-icon">🚫</div>
                <div class="stat-value">84</div>
                <div class="stat-label">Rokok Dihindari</div>
            </div>
            <div class="stat-card">
                <div class="stat-icon">❤️</div>
                <div class="stat-value">75%</div>
                <div class="stat-label">Health Score</div>
            </div>
        </div>

        <!-- Progress Overview -->
        <div class="section">
            <div class="section-title">
                <i class="section-icon fas fa-chart-pie"></i>
                Progress Hari Ini
            </div>
            <div class="progress-circle">
                <div class="progress-text">
                    <div class="progress-percentage">70%</div>
                    <div class="progress-label">Target Tercapai</div>
                </div>
            </div>
        </div>

        <!-- Daily Check-in -->
        <div class="section">
            <div class="section-title">
                <i class="section-icon fas fa-heart"></i>
                Check-in Harian
            </div>
            <div class="daily-checkin">
                <p style="color: #6b7280; margin-bottom: 16px;">Bagaimana perasaanmu hari ini?</p>
                <div class="mood-buttons">
                    <button class="mood-btn" onclick="selectMood(this, 'great')">😄</button>
                    <button class="mood-btn" onclick="selectMood(this, 'good')">😊</button>
                    <button class="mood-btn" onclick="selectMood(this, 'okay')">😐</button>
                    <button class="mood-btn" onclick="selectMood(this, 'bad')">😕</button>
                    <button class="mood-btn" onclick="selectMood(this, 'terrible')">😢</button>
                </div>
                <div class="quote-card">
                    <div class="quote-text">"Setiap hari tanpa rokok adalah kemenangan kecil yang membawa kamu lebih dekat ke kehidupan yang lebih sehat."</div>
                    <div class="quote-author">- PuffOff Team</div>
                </div>
            </div>
        </div>

        <!-- Quick Actions -->
        <div class="section">
            <div class="section-title">
                <i class="section-icon fas fa-bolt"></i>
                Aksi Cepat
            </div>
            <div class="quick-actions">
                <a href="progress.html" class="action-btn">
                    <div class="action-icon">📊</div>
                    <div class="action-label">Lapor Progress</div>
                </a>
                <a href="chatbot.html" class="action-btn">
                    <div class="action-icon">🤖</div>
                    <div class="action-label">Chat AI Helper</div>
                </a>
                <a href="target.html" class="action-btn">
                    <div class="action-icon">🎯</div>
                    <div class="action-label">Lihat Target</div>
                </a>
            </div>
        </div>
    </div>

    <!-- Bottom Navigation - FIXED (HANYA SATU) -->
    <div class="bottom-nav">
        <div class="nav-container">
            <a href="home.html" class="nav-item active">
                <i class="fas fa-home"></i>
                <span>Beranda</span>
            </a>
            <a href="progress.html" class="nav-item">
                <i class="fas fa-chart-bar"></i>
                <span>Progress</span>
            </a>
            <a href="chatbot.html" class="nav-item">
                <i class="fas fa-robot"></i>
                <span>AI Helper</span>
            </a>
            <a href="komunitas.html" class="nav-item">
                <i class="fas fa-users"></i>
                <span>Komunitas</span>
            </a>
            <a href="target.html" class="nav-item">
                <i class="fas fa-bullseye"></i>
                <span>Target</span>
            </a>
            <a href="profile.html" class="nav-item">
                <i class="fas fa-user"></i>
                <span>Profil</span>
            </a>
        </div>
    </div>

    <!-- Push Notification Container -->
    <div id="pushNotificationContainer" class="push-notification-container"></div>
    
    <!-- Toast Notification Container -->
    <div id="toastContainer" class="toast-container"></div>

    <script src="js/home.js"></script>
</body>
</html>
