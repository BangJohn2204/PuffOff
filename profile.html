<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Profil - PuffOff</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <link rel="stylesheet" href="css/profile.css">
</head>
<body data-theme="default">
    <div class="container">
        <!-- Header -->
        <div class="header">
            <h1><i class="fas fa-user"></i> Profil Saya</h1>
            <p>Kelola informasi dan progress Anda</p>
        </div>

        <!-- Profile Card -->
        <div class="profile-card">
            <div class="profile-avatar" onclick="changeAvatar()">
                <img src="https://images.unsplash.com/photo-1472099645785-5658abf4ff4e?w=150&h=150&fit=crop&crop=face&auto=format" 
                     alt="Profile Avatar" id="profileImage">
                <div class="avatar-edit">
                    <i class="fas fa-camera"></i>
                </div>
                <div class="health-indicator level-4" id="healthIndicator"></div>
            </div>
            <div class="profile-info">
                <h2 class="profile-name" id="profileName">Ahmad Wijaya</h2>
                <p class="profile-status" id="profileStatus">Pejuang Bebas Rokok</p>
                <div class="profile-details">
                    <div class="profile-detail-item">
                        <i class="fas fa-id-card"></i>
                        <span>ID: <span id="profileUserId">USR-2024-001</span></span>
                    </div>
                    <div class="profile-detail-item">
                        <i class="fas fa-envelope"></i>
                        <span id="profileEmail">ahmad@email.com</span>
                    </div>
                    <div class="profile-detail-item">
                        <i class="fas fa-phone"></i>
                        <span id="profilePhone">+62 812-3456-7890</span>
                    </div>
                </div>
                <div class="profile-badges">
                    <div class="badge main-badge">
                        <i class="fas fa-trophy"></i>
                        <span id="mainBadge">Week Warrior</span>
                    </div>
                    <div class="badge level-badge">
                        <i class="fas fa-star"></i>
                        <span>Level <span id="userLevel">4</span></span>
                    </div>
                    <div class="badge theme-badge">
                        <i class="fas fa-palette"></i>
                        <span id="currentTheme">Default</span>
                    </div>
                </div>
            </div>
            <div class="profile-actions">
                <button class="edit-btn" onclick="openEditProfile()">
                    <i class="fas fa-edit"></i>
                    Edit Profil
                </button>
                <button class="theme-btn" onclick="openThemeSelector()">
                    <i class="fas fa-palette"></i>
                </button>
            </div>
        </div>

        <!-- Friends & Community Section -->
        <div class="section">
            <div class="section-title">
                <div>
                    <i class="section-icon fas fa-users"></i>
                    Teman & Komunitas
                </div>
                <div class="friend-actions">
                    <button class="action-icon-btn" onclick="openReferralModal()" title="Masukkan Kode Referral">
                        <i class="fas fa-plus"></i>
                    </button>
                    <button class="action-icon-btn" onclick="findFriends()" title="Cari Teman">
                        <i class="fas fa-search"></i>
                    </button>
                    <button class="action-icon-btn" onclick="shareProfile()" title="Bagikan Profil">
                        <i class="fas fa-share-alt"></i>
                    </button>
                </div>
            </div>
            
            <div class="referral-card">
                <div class="referral-info">
                    <div class="referral-label">Kode Referral Anda:</div>
                    <div class="referral-code" onclick="copyReferralCode()">
                        <span id="referralCode">AHMAD2024</span>
                        <i class="fas fa-copy"></i>
                    </div>
                </div>
                <button class="invite-btn" onclick="inviteFriends()">
                    <i class="fas fa-user-plus"></i>
                    Undang
                </button>
            </div>

            <!-- Referral Stats -->
            <div class="referral-stats" id="referralStats">
                <div class="referral-stat-item">
                    <div class="stat-icon">üë•</div>
                    <div class="stat-info">
                        <div class="stat-number" id="totalReferrals">3</div>
                        <div class="stat-desc">Teman yang bergabung</div>
                    </div>
                </div>
                <div class="referral-stat-item">
                    <div class="stat-icon">üéÅ</div>
                    <div class="stat-info">
                        <div class="stat-number" id="referralRewards">150</div>
                        <div class="stat-desc">Poin reward</div>
                    </div>
                </div>
            </div>

            <div class="friends-list">
                <div class="friend-item">
                    <div class="friend-avatar">
                        <img src="https://images.unsplash.com/photo-1494790108755-2616b612e906?w=50&h=50&fit=crop&crop=face&auto=format" alt="Sarah">
                        <div class="friend-status online"></div>
                    </div>
                    <div class="friend-info">
                        <div class="friend-name">Sarah Putri</div>
                        <div class="friend-progress">14 hari bebas rokok</div>
                        <div class="friend-progress-bar">
                            <div class="progress-fill" style="width: 70%"></div>
                        </div>
                    </div>
                    <div class="friend-actions">
                        <button class="support-btn" onclick="sendSupport('sarah')" title="Kirim Dukungan">
                            <i class="fas fa-heart"></i>
                        </button>
                        <button class="challenge-btn" onclick="sendChallenge('sarah')" title="Tantang">
                            <i class="fas fa-fire"></i>
                        </button>
                    </div>
                </div>

                <div class="friend-item">
                    <div class="friend-avatar">
                        <img src="https://images.unsplash.com/photo-1507003211169-0a1dd7228f2d?w=50&h=50&fit=crop&crop=face&auto=format" alt="Budi">
                        <div class="friend-status offline"></div>
                    </div>
                    <div class="friend-info">
                        <div class="friend-name">Budi Santoso</div>
                        <div class="friend-progress">21 hari bebas rokok</div>
                        <div class="friend-progress-bar">
                            <div class="progress-fill" style="width: 85%"></div>
                        </div>
                    </div>
                    <div class="friend-actions">
                        <button class="support-btn" onclick="sendSupport('budi')" title="Kirim Dukungan">
                            <i class="fas fa-heart"></i>
                        </button>
                        <button class="challenge-btn" onclick="sendChallenge('budi')" title="Tantang">
                            <i class="fas fa-fire"></i>
                        </button>
                    </div>
                </div>

                <div class="friend-item">
                    <div class="friend-avatar">
                        <img src="https://images.unsplash.com/photo-1438761681033-6461ffad8d80?w=50&h=50&fit=crop&crop=face&auto=format" alt="Rina">
                        <div class="friend-status online"></div>
                    </div>
                    <div class="friend-info">
                        <div class="friend-name">Rina Maharani</div>
                        <div class="friend-progress">3 hari bebas rokok</div>
                        <div class="friend-progress-bar">
                            <div class="progress-fill" style="width: 30%"></div>
                        </div>
                    </div>
                    <div class="friend-actions">
                        <button class="support-btn" onclick="sendSupport('rina')" title="Kirim Dukungan">
                            <i class="fas fa-heart"></i>
                        </button>
                        <button class="challenge-btn" onclick="sendChallenge('rina')" title="Tantang">
                            <i class="fas fa-fire"></i>
                        </button>
                    </div>
                </div>
            </div>

            <div class="leaderboard">
                <h4>üèÜ Leaderboard Mingguan</h4>
                <div class="leaderboard-list">
                    <div class="leaderboard-item rank-1">
                        <div class="rank-badge">1</div>
                        <img src="https://images.unsplash.com/photo-1507003211169-0a1dd7228f2d?w=36&h=36&fit=crop&crop=face&auto=format" alt="Budi">
                        <div class="leaderboard-info">
                            <div class="name">Budi Santoso</div>
                            <div class="score">21 hari streak</div>
                        </div>
                        <div class="crown">üëë</div>
                    </div>
                    <div class="leaderboard-item rank-2">
                        <div class="rank-badge">2</div>
                        <img src="https://images.unsplash.com/photo-1494790108755-2616b612e906?w=36&h=36&fit=crop&crop=face&auto=format" alt="Sarah">
                        <div class="leaderboard-info">
                            <div class="name">Sarah Putri</div>
                            <div class="score">14 hari streak</div>
                        </div>
                        <div class="medal">ü•à</div>
                    </div>
                    <div class="leaderboard-item rank-3">
                        <div class="rank-badge">3</div>
                        <img src="https://images.unsplash.com/photo-1472099645785-5658abf4ff4e?w=36&h=36&fit=crop&crop=face&auto=format" alt="Ahmad">
                        <div class="leaderboard-info">
                            <div class="name">Ahmad Wijaya (Anda)</div>
                            <div class="score">7 hari streak</div>
                        </div>
                        <div class="medal">ü•â</div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Target Penghematan Section -->
        <div class="section">
            <div class="section-title">
                <div>
                    <i class="section-icon fas fa-bullseye"></i>
                    Target Penghematan
                </div>
                <button class="action-icon-btn" onclick="openAddGoal()" title="Tambah Target Baru">
                    <i class="fas fa-plus"></i>
                </button>
            </div>
            
            <div class="savings-goals">
                <div class="goals-overview">
                    <div class="overview-item">
                        <div class="overview-icon">üéØ</div>
                        <div class="overview-info">
                            <div class="overview-number" id="totalGoals">2</div>
                            <div class="overview-label">Target Aktif</div>
                        </div>
                    </div>
                    <div class="overview-item">
                        <div class="overview-icon">‚úÖ</div>
                        <div class="overview-info">
                            <div class="overview-number" id="completedGoals">0</div>
                            <div class="overview-label">Tercapai</div>
                        </div>
                    </div>
                    <div class="overview-item">
                        <div class="overview-icon">üí∞</div>
                        <div class="overview-info">
                            <div class="overview-number" id="totalTargetAmount">Rp 11M</div>
                            <div class="overview-label">Total Target</div>
                        </div>
                    </div>
                </div>

                <div class="goals-list" id="goalsList">
                    <div class="goal-item">
                        <div class="goal-header">
                            <div class="goal-category-icon">üì±</div>
                            <div class="goal-info">
                                <div class="goal-title">Smartphone Baru</div>
                                <div class="goal-category">Elektronik</div>
                            </div>
                            <div class="goal-amount">Rp 3.000.000</div>
                        </div>
                        <div class="goal-progress">
                            <div class="goal-progress-bar">
                                <div class="goal-progress-fill" style="width: 7%"></div>
                            </div>
                            <div class="goal-percentage">7%</div>
                        </div>
                        <div class="goal-details">
                            <div class="goal-saved">Tersimpan: Rp 210.000</div>
                            <div class="goal-remaining">Sisa: Rp 2.790.000</div>
                        </div>
                    </div>

                    <div class="goal-item">
                        <div class="goal-header">
                            <div class="goal-category-icon">üèñÔ∏è</div>
                            <div class="goal-info">
                                <div class="goal-title">Liburan Keluarga</div>
                                <div class="goal-category">Liburan</div>
                            </div>
                            <div class="goal-amount">Rp 8.000.000</div>
                        </div>
                        <div class="goal-progress">
                            <div class="goal-progress-bar">
                                <div class="goal-progress-fill" style="width: 3%"></div>
                            </div>
                            <div class="goal-percentage">3%</div>
                        </div>
                        <div class="goal-details">
                            <div class="goal-saved">Tersimpan: Rp 210.000</div>
                            <div class="goal-remaining">Sisa: Rp 7.790.000</div>
                        </div>
                    </div>
                </div>
                
                <button class="add-goal-btn" onclick="openAddGoal()">
                    <i class="fas fa-plus"></i>
                    Tambah Target Baru
                </button>
            </div>
        </div>

        <!-- Smoking History Section -->
        <div class="section">
            <div class="section-title">
                <div>
                    <i class="section-icon fas fa-history"></i>
                    Riwayat Merokok
                </div>
            </div>
            <div class="smoking-history" id="smokingHistorySection">
                <div class="history-summary" id="historySummary">
                    <div class="summary-item">
                        <span class="summary-label">Rokok per Hari</span>
                        <span class="summary-value" id="cigarettesPerDay">12 batang</span>
                    </div>
                    <div class="summary-item">
                        <span class="summary-label">Biaya per Hari</span>
                        <span class="summary-value" id="costPerDay">Rp 30,000</span>
                    </div>
                    <div class="summary-item">
                        <span class="summary-label">Lama Merokok</span>
                        <span class="summary-value" id="smokingDuration">5 tahun</span>
                    </div>
                    <div class="summary-item">
                        <span class="summary-label">Total Dihabiskan</span>
                        <span class="summary-value" id="totalSpent">Rp 54,750,000</span>
                    </div>
                </div>
                <button class="edit-history-btn" onclick="openSmokingHistory()">
                    <i class="fas fa-edit"></i>
                    Edit Riwayat Merokok
                </button>
            </div>
        </div>

        <!-- Journey Timeline -->
        <div class="section">
            <div class="section-title">
                <div>
                    <i class="section-icon fas fa-route"></i>
                    Timeline Perjalanan
                </div>
            </div>
            <div class="journey-timeline">
                <div class="timeline-item completed">
                    <div class="timeline-dot"></div>
                    <div class="timeline-content">
                        <div class="timeline-title">Memulai Perjalanan üåü</div>
                        <div class="timeline-desc">Bergabung dengan PuffOff dan berkomitmen berhenti merokok</div>
                        <div class="timeline-date">15 Januari 2024</div>
                    </div>
                </div>
                <div class="timeline-item completed">
                    <div class="timeline-dot"></div>
                    <div class="timeline-content">
                        <div class="timeline-title">Minggu Pertama! üèÜ</div>
                        <div class="timeline-desc">Berhasil mencapai 7 hari bebas rokok</div>
                        <div class="timeline-date">22 Januari 2024</div>
                    </div>
                </div>
                <div class="timeline-item upcoming">
                    <div class="timeline-dot"></div>
                    <div class="timeline-content">
                        <div class="timeline-title">Target 2 Minggu üéØ</div>
                        <div class="timeline-desc">Menuju pencapaian 14 hari bebas rokok</div>
                        <div class="timeline-date">29 Januari 2024</div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Settings -->
        <div class="section">
            <div class="section-title">
                <div>
                    <i class="section-icon fas fa-cog"></i>
                    Pengaturan
                </div>
            </div>
            <div class="settings-list">
                <div class="setting-item" onclick="openNotificationSettings()">
                    <div class="setting-info">
                        <i class="fas fa-bell"></i>
                        <span>Notifikasi</span>
                    </div>
                    <i class="fas fa-chevron-right"></i>
                </div>
                <div class="setting-item" onclick="toggleTheme()">
                    <div class="setting-info">
                        <i class="fas fa-moon"></i>
                        <span>Mode Gelap</span>
                    </div>
                    <div class="setting-toggle">
                        <input type="checkbox" id="darkModeToggle">
                        <label for="darkModeToggle"></label>
                    </div>
                </div>
                <div class="setting-item" onclick="openDataManagement()">
                    <div class="setting-info">
                        <i class="fas fa-download"></i>
                        <span>Export Data</span>
                    </div>
                    <i class="fas fa-chevron-right"></i>
                </div>
                <div class="setting-item" onclick="shareProfile()">
                    <div class="setting-info">
                        <i class="fas fa-share-alt"></i>
                        <span>Bagikan Profil</span>
                    </div>
                    <i class="fas fa-chevron-right"></i>
                </div>
            </div>
        </div>

        <!-- Action Buttons -->
        <div class="action-buttons">
            <button class="action-btn btn-secondary" onclick="resetProgress()">
                <i class="fas fa-redo"></i>
                Reset Progress
            </button>
            <button class="action-btn btn-danger" onclick="confirmLogout()">
                <i class="fas fa-sign-out-alt"></i>
                Keluar
            </button>
        </div>
    </div>

    <!-- Bottom Navigation -->
    <div class="bottom-nav">
        <div class="nav-container">
            <a href="home.html" class="nav-item">
                <i class="fas fa-home"></i>
                <span>Beranda</span>
            </a>
            <a href="progress.html" class="nav-item">
                <i class="fas fa-chart-bar"></i>
                <span>Progress</span>
            </a>
            <a href="chatbot.html" class="nav-item">
                <i class="fas fa-robot"></i>
                <span>AI Helper</span>
            </a>
            <a href="komunitas.html" class="nav-item">
                <i class="fas fa-users"></i>
                <span>Komunitas</span>
            </a>
            <a href="target.html" class="nav-item">
                <i class="fas fa-bullseye"></i>
                <span>Target</span>
            </a>
            <a href="profile.html" class="nav-item active">
                <i class="fas fa-user"></i>
                <span>Profil</span>
            </a>
        </div>
    </div>

    <!-- Theme Selection Modal -->
    <div class="modal" id="themeModal">
        <div class="modal-content">
            <div class="modal-header">
                <h3>Pilih Tema</h3>
                <button class="modal-close" onclick="closeThemeSelector()">
                    <i class="fas fa-times"></i>
                </button>
            </div>
            <div class="modal-body">
                <div class="theme-grid">
                    <div class="theme-option selected" data-theme="default" onclick="selectTheme('default')">
                        <div class="theme-preview">
                            <i class="fas fa-palette"></i>
                        </div>
                        <div class="theme-name">Default</div>
                    </div>
                    <div class="theme-option" data-theme="ocean" onclick="selectTheme('ocean')">
                        <div class="theme-preview">
                            <i class="fas fa-water"></i>
                        </div>
                        <div class="theme-name">Ocean</div>
                    </div>
                    <div class="theme-option" data-theme="forest" onclick="selectTheme('forest')">
                        <div class="theme-preview">
                            <i class="fas fa-tree"></i>
                        </div>
                        <div class="theme-name">Forest</div>
                    </div>
                    <div class="theme-option" data-theme="sunset" onclick="selectTheme('sunset')">
                        <div class="theme-preview">
                            <i class="fas fa-sun"></i>
                        </div>
                        <div class="theme-name">Sunset</div>
                    </div>
                    <div class="theme-option" data-theme="purple" onclick="selectTheme('purple')">
                        <div class="theme-preview">
                            <i class="fas fa-star"></i>
                        </div>
                        <div class="theme-name">Purple</div>
                    </div>
                    <div class="theme-option" data-theme="dark" onclick="selectTheme('dark')">
                        <div class="theme-preview">
                            <i class="fas fa-moon"></i>
                        </div>
                        <div class="theme-name">Dark</div>
                    </div>
                </div>
            </div>
            <div class="modal-footer">
                <button class="btn btn-secondary" onclick="closeThemeSelector()">Batal</button>
                <button class="btn btn-primary" onclick="applyTheme()">Terapkan</button>
            </div>
        </div>
    </div>

    <!-- Edit Profile Modal -->
    <div class="modal" id="editProfileModal">
        <div class="modal-content">
            <div class="modal-header">
                <h3>Edit Profil</h3>
                <button class="modal-close" onclick="closeEditProfile()">
                    <i class="fas fa-times"></i>
                </button>
            </div>
            <div class="modal-body">
                <div class="form-group">
                    <label>Nama Lengkap</label>
                    <input type="text" id="editName" placeholder="Masukkan nama lengkap">
                </div>
                <div class="form-group">
                    <label>Status</label>
                    <input type="text" id="editStatus" placeholder="Masukkan status">
                </div>
                <div class="form-group">
                    <label>Email</label>
                    <input type="email" id="editEmail" placeholder="Masukkan email">
                </div>
                <div class="form-group">
                    <label>Nomor Telepon</label>
                    <input type="tel" id="editPhone" placeholder="Masukkan nomor telepon">
                </div>
                <div class="form-group">
                    <label>Bio</label>
                    <textarea id="editBio" placeholder="Ceritakan tentang perjalanan Anda"></textarea>
                </div>
                <div class="form-group">
                    <label>Tanggal Mulai Berhenti</label>
                    <input type="date" id="editStartDate">
                </div>
            </div>
            <div class="modal-footer">
                <button class="btn btn-secondary" onclick="closeEditProfile()">Batal</button>
                <button class="btn btn-primary" onclick="saveProfile()">Simpan</button>
            </div>
        </div>
    </div>

    <!-- Referral Input Modal -->
    <div class="modal" id="referralModal">
        <div class="modal-content">
            <div class="modal-header">
                <h3>Masukkan Kode Referral</h3>
                <button class="modal-close" onclick="closeReferralModal()">
                    <i class="fas fa-times"></i>
                </button>
            </div>
            <div class="modal-body">
                <div class="referral-input-info">
                    <div class="info-icon">
                        <i class="fas fa-gift"></i>
                    </div>
                    <div class="info-text">
                        <h4>Bergabung dengan Teman!</h4>
                        <p>Masukkan kode referral teman Anda untuk bergabung dengan komunitas mereka dan dapatkan bonus poin.</p>
                    </div>
                </div>
                <div class="form-group">
                    <label>Kode Referral Teman</label>
                    <input type="text" id="friendReferralCode" placeholder="Contoh: SARAH2024" maxlength="10" style="text-transform: uppercase;">
                    <small>Kode terdiri dari 8-10 karakter</small>
                </div>
                <div class="referral-benefits">
                    <h5>üéÅ Keuntungan bergabung:</h5>
                    <ul>
                        <li>‚ú® Bonus 50 poin untuk Anda</li>
                        <li>üéØ Bonus 30 poin untuk teman Anda</li>
                        <li>üë• Masuk ke grup komunitas teman</li>
                        <li>üèÜ Akses challenge eksklusif</li>
                    </ul>
                </div>
            </div>
            <div class="modal-footer">
                <button class="btn btn-secondary" onclick="closeReferralModal()">Batal</button>
                <button class="btn btn-primary" onclick="submitReferralCode()">Bergabung</button>
            </div>
        </div>
    </div>

    <!-- Smoking History Modal -->
    <div class="modal" id="smokingHistoryModal">
        <div class="modal-content">
            <div class="modal-header">
                <h3>Riwayat Merokok</h3>
                <button class="modal-close" onclick="closeSmokingHistory()">
                    <i class="fas fa-times"></i>
                </button>
            </div>
            <div class="modal-body">
                <div class="form-group">
                    <label>Berapa batang rokok per hari sebelumnya?</label>
                    <input type="number" id="cigarettesPerDayInput" placeholder="Contoh: 12" min="1" max="100">
                    <small>Rata-rata jumlah rokok yang Anda konsumsi per hari</small>
                </div>
                <div class="form-group">
                    <label>Berapa harga per bungkus rokok?</label>
                    <input type="number" id="pricePerPackInput" placeholder="Contoh: 25000" min="1000">
                    <small>Harga rata-rata per bungkus (20 batang)</small>
                </div>
                <div class="form-group">
                    <label>Sudah berapa lama merokok?</label>
                    <div class="duration-inputs">
                        <input type="number" id="smokingYears" placeholder="0" min="0" max="50">
                        <span>tahun</span>
                        <input type="number" id="smokingMonths" placeholder="0" min="0" max="11">
                        <span>bulan</span>
                    </div>
                </div>
                <div class="calculation-preview" id="calculationPreview">
                    <h4>üìä Perkiraan Pengeluaran:</h4>
                    <div class="calculation-item">
                        <span>Per Hari:</span>
                        <span id="dailyCost">Rp 0</span>
                    </div>
                    <div class="calculation-item">
                        <span>Per Bulan:</span>
                        <span id="monthlyCost">Rp 0</span>
                    </div>
                    <div class="calculation-item">
                        <span>Per Tahun:</span>
                        <span id="yearlyCost">Rp 0</span>
                    </div>
                    <div class="calculation-item total">
                        <span>Total Selama Merokok:</span>
                        <span id="totalLifetimeCost">Rp 0</span>
                    </div>
                </div>
            </div>
            <div class="modal-footer">
                <button class="btn btn-secondary" onclick="closeSmokingHistory()">Batal</button>
                <button class="btn btn-primary" onclick="saveSmokingHistory()">Simpan</button>
            </div>
        </div>
    </div>

    <!-- Add Goal Modal -->
    <div class="modal" id="addGoalModal">
        <div class="modal-content">
            <div class="modal-header">
                <h3>Tambah Target Penghematan</h3>
                <button class="modal-close" onclick="closeAddGoal()">
                    <i class="fas fa-times"></i>
                </button>
            </div>
            <div class="modal-body">
                <div class="goal-input-info">
                    <div class="info-icon">
                        <i class="fas fa-bullseye"></i>
                    </div>
                    <div class="info-text">
                        <h4>Tetapkan Target Anda</h4>
                        <p>Buat target penghematan untuk memotivasi perjalanan bebas rokok Anda.</p>
                    </div>
                </div>
                <div class="form-group">
                    <label>Nama Target</label>
                    <input type="text" id="goalName" placeholder="Contoh: Laptop Baru" maxlength="50">
                    <small>Nama yang mudah diingat untuk target Anda</small>
                </div>
                <div class="form-group">
                    <label>Jumlah Target (Rp)</label>
                    <input type="number" id="goalAmount" placeholder="Contoh: 5000000" min="10000" step="10000">
                    <small>Jumlah uang yang ingin dikumpulkan</small>
                </div>
                <div class="form-group">
                    <label>Kategori</label>
                    <select id="goalCategory">
                        <option value="elektronik">üì± Elektronik</option>
                        <option value="liburan">üèñÔ∏è Liburan</option>
                        <option value="pendidikan">üìö Pendidikan</option>
                        <option value="kesehatan">‚ù§Ô∏è Kesehatan</option>
                        <option value="investasi">üìà Investasi</option>
                        <option value="kendaraan">üöó Kendaraan</option>
                        <option value="rumah">üè† Rumah</option>
                        <option value="fashion">üëï Fashion</option>
                        <option value="hobi">üé® Hobi</option>
                        <option value="lainnya">üì¶ Lainnya</option>
                    </select>
                </div>
                <div class="form-group">
                    <label>Target Waktu (Opsional)</label>
                    <input type="date" id="goalTargetDate" min="">
                    <small>Kapan Anda ingin mencapai target ini?</small>
                </div>
                <div class="goal-preview" id="goalPreview">
                    <h5>üìä Estimasi Pencapaian:</h5>
                    <div class="preview-item">
                        <span>Hemat per hari:</span>
                        <span id="previewDailySavings">Rp 0</span>
                    </div>
                    <div class="preview-item">
                        <span>Estimasi waktu:</span>
                        <span id="previewTimeEstimate">0 hari</span>
                    </div>
                    <div class="preview-item">
                        <span>Progress saat ini:</span>
                        <span id="previewCurrentProgress">0%</span>
                    </div>
                </div>
            </div>
            <div class="modal-footer">
                <button class="btn btn-secondary" onclick="closeAddGoal()">Batal</button>
                <button class="btn btn-primary" onclick="saveGoal()">Tambah Target</button>
            </div>
        </div>
    </div>

    <!-- Toast Notification -->
    <div class="toast" id="toast"></div>

    <!-- Loading Overlay -->
    <div class="loading-overlay" id="loadingOverlay">
        <div class="loading-spinner"></div>
        <p>Memuat data...</p>
    </div>

    <script src="js/profile.js"></script>
    <script>
        // Set minimum date for goal target date to today
        document.addEventListener('DOMContentLoaded', function() {
            const goalTargetDate = document.getElementById('goalTargetDate');
            if (goalTargetDate) {
                const today = new Date().toISOString().split('T')[0];
                goalTargetDate.min = today;
            }
        });
    </script>
</body>
</html>
